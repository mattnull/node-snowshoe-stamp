// Generated by CoffeeScript 1.8.0
(function() {
  var app, auth, express, port, server, snowshoestamp;

  express = require('express');

  app = express();

  server = require('http').createServer(app);

  app.configure(function() {
    app.use(express.bodyParser());
    app.use(express.cookieParser());
    app.use(express.methodOverride());
    return app.use(app.router);
  });

  snowshoestamp = require('./snowshoestamp');

  auth = new snowshoestamp('APIKEY', 'APISECRET');

  app.all('/snowshoecallback', function(req, res) {
    return auth.validateStamp(req.body);
  });

  app.get('/stampscreen', function(req, res) {
    return auth.stampScreen(req, res);
  });

  port = process.env.PORT || 3000;

  server.listen(port, function() {
    return console.log("Server running on port " + port);
  });

}).call(this);
